#include <iostream>
using namespace std;

int main() {
    long long num;
	  cout << "請輸入卡號:";
    cin >> num;

	  int total;

    int num1;
	  int num2;
	  int num3;
	  int num4;
	  int num5;
	  int num6;
	  int num7;
	  int num8;
	  int num9;

    if (num / 10000000000000 == 34 || num / 10000000000000 ==37) {
        num1 = num % 100 / 10 * 2;
        num2 = num % 10000 / 1000 * 2;
        num3 = num % 1000000 / 100000 * 2;
        num4 = num % 100000000 / 10000000 * 2;
        num5 = num % 10000000000 / 1000000000 * 2;
        num6 = num % 1000000000000 / 100000000000 * 2;
        num7 = num % 100000000000000 / 10000000000000 * 2;
        num8 = (num % 10) + (num % 1000 / 100) + (num % 100000 / 10000) + (num % 10000000 / 1000000) + (num % 1000000000 / 100000000) + (num % 100000000000 / 10000000000) + (num % 10000000000000 / 1000000000000) + (num / 100000000000000);

        total = ((num1 / 10) + (num1 % 10)) + ((num2 / 10) + (num2 % 10)) + ((num3 / 10) + (num3 % 10)) + ((num4 / 10) + (num4 % 10))+ ((num5 / 10) + (num5 % 10)) +((num6 / 10 + num6 % 10)) + ((num7 / 10) + (num7 % 10)) + num8;
        if (total % 10 == 0) {
            cout << "American Express ";
        } else {
            cout << "無效卡號";
        }
     } else if (num / 100000000000000 >= 51 && num / 100000000000000 <= 55) {
         num1 = num % 100 / 10 * 2;
         num2 = num % 10000 / 1000 * 2;
         num3 = num % 1000000 / 100000 * 2;
         num4 = num % 100000000 / 10000000 * 2;
         num5 = num % 10000000000 / 1000000000 * 2;
         num6 = num % 1000000000000 / 100000000000 * 2;
         num7 = num % 100000000000000 / 10000000000000 * 2;
         num8 = num / 1000000000000000 * 2;
         num9 = (num % 10) + (num % 1000 / 100) + (num % 100000 / 10000) + (num % 10000000 / 1000000) + (num % 1000000000 / 100000000) + (num % 100000000000 / 10000000000) + (num % 10000000000000 / 1000000000000) + (num / 100000000000000);
        
         total = ((num1 / 10) + (num1 % 10)) + ((num2 / 10) + (num2 % 10)) + ((num3 / 10) + (num3 % 10)) + ((num4 / 10) + (num4 % 10))+ ((num5 / 10) + (num5 % 10)) +((num6 / 10 + num6 % 10)) + ((num7 / 10) + (num7 % 10)) + ((num8 / 10) + (num8 % 10)) + num9;
         if (total % 10 == 0) {
             cout << "MasterCard";
         } else {
             cout << "無效卡號";
         }
     } else if (num / 1000000000000000 == 4) {
         num1 = num % 100 / 10 * 2;
         num2 = num % 10000 / 1000 * 2;
         num3 = num % 1000000 / 100000 * 2;
         num4 = num % 100000000 / 10000000 * 2;
         num5 = num % 10000000000 / 1000000000 * 2;
         num6 = num % 1000000000000 / 100000000000 * 2;
         num7 = num % 100000000000000 / 10000000000000 * 2;
         num8 = num / 1000000000000000 * 2;
         num9 = (num % 10) + (num % 1000 / 100) + (num % 100000 / 10000) + (num % 10000000 / 1000000) + (num % 1000000000 / 100000000) + (num % 100000000000 / 10000000000) + (num % 10000000000000 / 1000000000000) + (num / 100000000000000);
        
         total = ((num1 / 10) + (num1 % 10)) + ((num2 / 10) + (num2 % 10)) + ((num3 / 10) + (num3 % 10)) + ((num4 / 10) + (num4 % 10))+ ((num5 / 10) + (num5 % 10)) +((num6 / 10 + num6 % 10)) + ((num7 / 10) + (num7 % 10)) + ((num8 / 10) + (num8 % 10)) + num9;
         if (total % 10 == 0) {
             cout << "Visa";
         } else {
             cout << "無效卡號";
         }
     } else if (num / 1000000000000 == 4) {
         num1 = num % 100 / 10 * 2;
         num2 = num % 10000 / 1000 * 2;
         num3 = num % 1000000 / 100000 * 2;
         num4 = num % 100000000 / 10000000 * 2;
         num5 = num % 10000000000 / 1000000000 * 2;
         num6 = num % 1000000000000 / 100000000000 * 2;
         num7 = (num % 10) + (num % 1000 / 100) + (num % 100000 / 10000) + (num % 10000000 / 1000000) + (num % 1000000000 / 100000000) + (num % 100000000000 / 10000000000) + (num  / 1000000000000);
        
         total = ((num1 / 10) + (num1 % 10)) + ((num2 / 10) + (num2 % 10)) + ((num3 / 10) + (num3 % 10)) + ((num4 / 10) + (num4 % 10))+ ((num5 / 10) + (num5 % 10)) +((num6 / 10 + num6 % 10)) + num7;
         if (total % 10 == 0) {
             cout << "Visa";
         } else {
             cout << "無效卡號";
         }
     } else {
         cout << "無效卡號";
	   }
}
